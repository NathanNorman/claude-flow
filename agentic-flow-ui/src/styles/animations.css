/* AGENTIC-FLOW UI - Terminal Animations */
/* Cursor blinks, text typing, loading sequences, and glitch effects */

/* Terminal Typing Animation */
@keyframes type-text {
  from { width: 0; }
  to { width: 100%; }
}

.typing-text {
  overflow: hidden;
  white-space: nowrap;
  border-right: 2px solid var(--phosphor-bright);
  animation: 
    type-text 3s steps(40, end),
    cursor-blink 1s step-end infinite;
}

/* Matrix Rain Effect */
.matrix-rain {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  overflow: hidden;
  z-index: 0;
}

.matrix-column {
  position: absolute;
  top: -100%;
  font-size: 14px;
  line-height: 14px;
  animation: matrix-fall linear infinite;
}

@keyframes matrix-fall {
  to { transform: translateY(200vh); }
}

/* Loading Animations */
.loading-dots {
  display: inline-block;
  width: 60px;
}

.loading-dots::after {
  content: '...';
  display: inline-block;
  animation: dots-loading 1.5s steps(4, end) infinite;
  width: 20px;
}

@keyframes dots-loading {
  0% { content: ''; }
  25% { content: '.'; }
  50% { content: '..'; }
  75% { content: '...'; }
  100% { content: ''; }
}

/* ASCII Spinner */
.ascii-spinner {
  display: inline-block;
  width: 20px;
  animation: ascii-spin 0.8s steps(8) infinite;
}

.ascii-spinner::before {
  content: '|';
  display: inline-block;
}

@keyframes ascii-spin {
  0% { content: '|'; }
  12.5% { content: '/'; }
  25% { content: '-'; }
  37.5% { content: '\\'; }
  50% { content: '|'; }
  62.5% { content: '/'; }
  75% { content: '-'; }
  87.5% { content: '\\'; }
  100% { content: '|'; }
}

/* Progress Bar Animation */
.progress-bar {
  width: 300px;
  height: 20px;
  border: 1px solid var(--phosphor-normal);
  background: var(--bg-black);
  position: relative;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: repeating-linear-gradient(
    90deg,
    var(--phosphor-dim) 0px,
    var(--phosphor-normal) 10px,
    var(--phosphor-dim) 20px
  );
  animation: progress-slide 1s linear infinite;
  transition: width 0.3s ease;
}

@keyframes progress-slide {
  0% { background-position: 0 0; }
  100% { background-position: 20px 0; }
}

/* Glitch Text Effect */
.glitch {
  position: relative;
  color: var(--phosphor-bright);
  animation: glitch-skew 0.5s infinite alternate;
}

.glitch::before,
.glitch::after {
  content: attr(data-text);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.glitch::before {
  animation: glitch-1 0.2s infinite;
  color: var(--phosphor-bright);
  z-index: -1;
}

.glitch::after {
  animation: glitch-2 0.2s infinite;
  color: var(--phosphor-normal);
  z-index: -2;
}

@keyframes glitch-skew {
  0% { transform: skew(0deg); }
  20% { transform: skew(2deg); }
  40% { transform: skew(-1deg); }
  60% { transform: skew(0.5deg); }
  80% { transform: skew(-0.5deg); }
  100% { transform: skew(0deg); }
}

@keyframes glitch-1 {
  0%, 100% { clip-path: inset(0 0 0 0); transform: translate(0); }
  20% { clip-path: inset(20% 0 30% 0); transform: translate(-2px); }
  40% { clip-path: inset(50% 0 20% 0); transform: translate(2px); }
  60% { clip-path: inset(10% 0 60% 0); transform: translate(0); }
  80% { clip-path: inset(80% 0 5% 0); transform: translate(1px); }
}

@keyframes glitch-2 {
  0%, 100% { clip-path: inset(0 0 0 0); transform: translate(0); }
  20% { clip-path: inset(60% 0 10% 0); transform: translate(2px); }
  40% { clip-path: inset(20% 0 60% 0); transform: translate(-2px); }
  60% { clip-path: inset(30% 0 40% 0); transform: translate(0); }
  80% { clip-path: inset(10% 0 80% 0); transform: translate(-1px); }
}

/* Boot Sequence Animation */
.boot-sequence {
  font-family: var(--font-mono);
  color: var(--phosphor-normal);
}

.boot-line {
  opacity: 0;
  animation: boot-appear 0.1s ease-in forwards;
}

@keyframes boot-appear {
  to { opacity: 1; }
}

/* Pulse Animation */
.pulse {
  animation: pulse-glow 2s ease-in-out infinite;
}

@keyframes pulse-glow {
  0%, 100% {
    opacity: 1;
    text-shadow: 
      0 0 5px var(--phosphor-bright),
      0 0 10px var(--phosphor-normal);
  }
  50% {
    opacity: 0.8;
    text-shadow: 
      0 0 10px var(--phosphor-bright),
      0 0 20px var(--phosphor-normal),
      0 0 30px var(--phosphor-dim);
  }
}

/* Fade In/Out */
.fade-in {
  animation: fade-in 0.5s ease-in forwards;
}

.fade-out {
  animation: fade-out 0.5s ease-out forwards;
}

@keyframes fade-in {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes fade-out {
  from { opacity: 1; transform: translateY(0); }
  to { opacity: 0; transform: translateY(-10px); }
}

/* Screen Turn On/Off */
.screen-on {
  animation: screen-turn-on 0.5s ease-out;
}

.screen-off {
  animation: screen-turn-off 0.3s ease-in forwards;
}

@keyframes screen-turn-on {
  0% {
    transform: scaleY(0.01) scaleX(1);
    filter: brightness(3);
  }
  50% {
    transform: scaleY(1) scaleX(1);
    filter: brightness(1.5);
  }
  100% {
    transform: scaleY(1) scaleX(1);
    filter: brightness(1);
  }
}

@keyframes screen-turn-off {
  0% {
    transform: scaleY(1) scaleX(1);
    filter: brightness(1);
  }
  60% {
    transform: scaleY(0.01) scaleX(1);
    filter: brightness(3);
  }
  100% {
    transform: scaleY(0) scaleX(0);
    filter: brightness(0);
  }
}

/* Data Stream Animation */
.data-stream {
  display: inline-block;
  font-family: var(--font-mono);
  overflow: hidden;
}

.data-stream span {
  display: inline-block;
  animation: data-flow 0.1s ease-in forwards;
  opacity: 0;
}

@keyframes data-flow {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Warning Flash */
.warning-flash {
  animation: warning-blink 0.5s ease-in-out infinite;
}

@keyframes warning-blink {
  0%, 100% { 
    color: var(--phosphor-bright);
    background: transparent;
  }
  50% { 
    color: var(--bg-black);
    background: var(--phosphor-bright);
  }
}

/* Success Glow */
.success-glow {
  animation: success-pulse 1s ease-in-out;
}

@keyframes success-pulse {
  0% {
    box-shadow: 0 0 0 0 var(--phosphor-bright);
  }
  50% {
    box-shadow: 0 0 20px 10px transparent;
  }
  100% {
    box-shadow: 0 0 0 0 transparent;
  }
}